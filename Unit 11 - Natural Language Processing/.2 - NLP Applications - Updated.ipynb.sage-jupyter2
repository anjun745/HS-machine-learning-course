{"backend_state":"init","connection_file":"/tmp/xdg-runtime-user/jupyter/kernel-87d275c3-1653-4ce8-8192-fdc5736b4457.json","kernel":"python3","kernel_error":"","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":0},"metadata":{"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.7.3"}},"trust":true,"type":"settings"}
{"cell_type":"code","end":1621964539532,"exec_count":1,"id":"a819b4","input":"import pandas as pd\nimport numpy as np\n\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.preprocessing import Normalizer\nfrom sklearn.decomposition import TruncatedSVD\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.linear_model import LogisticRegression\n\nfrom sklearn.pipeline import Pipeline\n\nfrom nltk.corpus import stopwords\nimport nltk\nfrom nltk.sentiment.vader import SentimentIntensityAnalyzer\n#nltk.download('vader_lexicon')","kernel":"python3","pos":1,"start":1621964536407,"state":"done","type":"cell"}
{"cell_type":"code","end":1621964573856,"exec_count":2,"id":"7e517e","input":"articles = ['Football baseball basketball',\n            'baseball giants cubs redsox',\n            'football broncos cowboys',\n            'baseball redsox tigers',\n            'pop stars hendrix prince',\n            'hendrix prince jagger rock',\n            'joplin pearl jam tupac rock',\n          ]\n\nvectorizer = TfidfVectorizer(lowercase=True, \n                     token_pattern=\"\\\\b[a-zA-Z][a-zA-Z]+\\\\b\", \n                     stop_words=stopwords.words('english'),\n                     min_df=1)\n\nX = vectorizer.fit_transform(articles).toarray()\n\narticles_df = pd.DataFrame(X,\n             columns=vectorizer.get_feature_names())\narticles_df","kernel":"python3","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>baseball</th>\n      <th>basketball</th>\n      <th>broncos</th>\n      <th>cowboys</th>\n      <th>cubs</th>\n      <th>football</th>\n      <th>giants</th>\n      <th>hendrix</th>\n      <th>jagger</th>\n      <th>jam</th>\n      <th>joplin</th>\n      <th>pearl</th>\n      <th>pop</th>\n      <th>prince</th>\n      <th>redsox</th>\n      <th>rock</th>\n      <th>stars</th>\n      <th>tigers</th>\n      <th>tupac</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>0.479185</td>\n      <td>0.675356</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.560603</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>0.397106</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.559675</td>\n      <td>0.000000</td>\n      <td>0.559675</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.464579</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.609819</td>\n      <td>0.609819</td>\n      <td>0.000000</td>\n      <td>0.506202</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>0.479185</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.560603</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.675356</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.451635</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.544082</td>\n      <td>0.451635</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.544082</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.473977</td>\n      <td>0.570997</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.473977</td>\n      <td>0.000000</td>\n      <td>0.473977</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.461804</td>\n      <td>0.461804</td>\n      <td>0.461804</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.383337</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.461804</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"   baseball  basketball   broncos   cowboys      cubs  football    giants  \\\n0  0.479185    0.675356  0.000000  0.000000  0.000000  0.560603  0.000000   \n1  0.397106    0.000000  0.000000  0.000000  0.559675  0.000000  0.559675   \n2  0.000000    0.000000  0.609819  0.609819  0.000000  0.506202  0.000000   \n3  0.479185    0.000000  0.000000  0.000000  0.000000  0.000000  0.000000   \n4  0.000000    0.000000  0.000000  0.000000  0.000000  0.000000  0.000000   \n5  0.000000    0.000000  0.000000  0.000000  0.000000  0.000000  0.000000   \n6  0.000000    0.000000  0.000000  0.000000  0.000000  0.000000  0.000000   \n\n    hendrix    jagger       jam    joplin     pearl       pop    prince  \\\n0  0.000000  0.000000  0.000000  0.000000  0.000000  0.000000  0.000000   \n1  0.000000  0.000000  0.000000  0.000000  0.000000  0.000000  0.000000   \n2  0.000000  0.000000  0.000000  0.000000  0.000000  0.000000  0.000000   \n3  0.000000  0.000000  0.000000  0.000000  0.000000  0.000000  0.000000   \n4  0.451635  0.000000  0.000000  0.000000  0.000000  0.544082  0.451635   \n5  0.473977  0.570997  0.000000  0.000000  0.000000  0.000000  0.473977   \n6  0.000000  0.000000  0.461804  0.461804  0.461804  0.000000  0.000000   \n\n     redsox      rock     stars    tigers     tupac  \n0  0.000000  0.000000  0.000000  0.000000  0.000000  \n1  0.464579  0.000000  0.000000  0.000000  0.000000  \n2  0.000000  0.000000  0.000000  0.000000  0.000000  \n3  0.560603  0.000000  0.000000  0.675356  0.000000  \n4  0.000000  0.000000  0.544082  0.000000  0.000000  \n5  0.000000  0.473977  0.000000  0.000000  0.000000  \n6  0.000000  0.383337  0.000000  0.000000  0.461804  "},"exec_count":2}},"pos":3,"start":1621964573829,"state":"done","type":"cell"}
{"cell_type":"code","end":1621964600982,"exec_count":3,"id":"bb8314","input":"svd = TruncatedSVD(2)\nX_svd = svd.fit_transform(X)\npd.DataFrame(svd.components_.round(5),\n             index = [\"component_1\",\"component_2\"],\n             columns = vectorizer.get_feature_names())","kernel":"python3","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>baseball</th>\n      <th>basketball</th>\n      <th>broncos</th>\n      <th>cowboys</th>\n      <th>cubs</th>\n      <th>football</th>\n      <th>giants</th>\n      <th>hendrix</th>\n      <th>jagger</th>\n      <th>jam</th>\n      <th>joplin</th>\n      <th>pearl</th>\n      <th>pop</th>\n      <th>prince</th>\n      <th>redsox</th>\n      <th>rock</th>\n      <th>stars</th>\n      <th>tigers</th>\n      <th>tupac</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>component_1</th>\n      <td>0.59434</td>\n      <td>0.26389</td>\n      <td>0.10775</td>\n      <td>0.10775</td>\n      <td>0.25565</td>\n      <td>0.30849</td>\n      <td>0.25565</td>\n      <td>0.00000</td>\n      <td>0.00000</td>\n      <td>0.00000</td>\n      <td>0.00000</td>\n      <td>0.00000</td>\n      <td>0.00000</td>\n      <td>0.00000</td>\n      <td>0.47627</td>\n      <td>0.00000</td>\n      <td>0.00000</td>\n      <td>0.31811</td>\n      <td>0.00000</td>\n    </tr>\n    <tr>\n      <th>component_2</th>\n      <td>-0.00000</td>\n      <td>-0.00000</td>\n      <td>0.00000</td>\n      <td>0.00000</td>\n      <td>-0.00000</td>\n      <td>0.00000</td>\n      <td>-0.00000</td>\n      <td>0.51977</td>\n      <td>0.33357</td>\n      <td>0.10539</td>\n      <td>0.10539</td>\n      <td>0.10539</td>\n      <td>0.29259</td>\n      <td>0.51977</td>\n      <td>-0.00000</td>\n      <td>0.36438</td>\n      <td>0.29259</td>\n      <td>0.00000</td>\n      <td>0.10539</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"             baseball  basketball  broncos  cowboys     cubs  football  \\\ncomponent_1   0.59434     0.26389  0.10775  0.10775  0.25565   0.30849   \ncomponent_2  -0.00000    -0.00000  0.00000  0.00000 -0.00000   0.00000   \n\n              giants  hendrix   jagger      jam   joplin    pearl      pop  \\\ncomponent_1  0.25565  0.00000  0.00000  0.00000  0.00000  0.00000  0.00000   \ncomponent_2 -0.00000  0.51977  0.33357  0.10539  0.10539  0.10539  0.29259   \n\n              prince   redsox     rock    stars   tigers    tupac  \ncomponent_1  0.00000  0.47627  0.00000  0.00000  0.31811  0.00000  \ncomponent_2  0.51977 -0.00000  0.36438  0.29259  0.00000  0.10539  "},"exec_count":3}},"pos":5,"start":1621964600878,"state":"done","type":"cell"}
{"cell_type":"code","end":1621964605574,"exec_count":4,"id":"48ded4","input":"dtm_svd = Normalizer(copy=False).fit_transform(X_svd)\n\npd.DataFrame(dtm_svd.round(5),\n             index=articles, \n             columns=[\"component_1\",\"component_2\" ])","kernel":"python3","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>component_1</th>\n      <th>component_2</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Football baseball basketball</th>\n      <td>1.0</td>\n      <td>-0.0</td>\n    </tr>\n    <tr>\n      <th>baseball giants cubs redsox</th>\n      <td>1.0</td>\n      <td>-0.0</td>\n    </tr>\n    <tr>\n      <th>football broncos cowboys</th>\n      <td>1.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>baseball redsox tigers</th>\n      <td>1.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>pop stars hendrix prince</th>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>hendrix prince jagger rock</th>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>joplin pearl jam tupac rock</th>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"                              component_1  component_2\nFootball baseball basketball          1.0         -0.0\nbaseball giants cubs redsox           1.0         -0.0\nfootball broncos cowboys              1.0          0.0\nbaseball redsox tigers                1.0          0.0\npop stars hendrix prince              0.0          1.0\nhendrix prince jagger rock            0.0          1.0\njoplin pearl jam tupac rock           0.0          1.0"},"exec_count":4}},"pos":7,"start":1621964605567,"state":"done","type":"cell"}
{"cell_type":"code","end":1621964624056,"exec_count":5,"id":"a7065c","input":"pipe = [('tfidf', TfidfVectorizer(stop_words='english', \n                        token_pattern=\"\\\\b[a-zA-Z][a-zA-Z]+\\\\b\", \n                        min_df=2)),\n       ('lsa', TruncatedSVD(2)),\n       ('normalizer', Normalizer())]\npipeline = Pipeline(pipe)","kernel":"python3","pos":9,"start":1621964624051,"state":"done","type":"cell"}
{"cell_type":"code","end":1621965303099,"exec_count":6,"id":"5de925","input":"dtm_svd = pipeline.fit_transform(articles)\npd.DataFrame(dtm_svd.round(5),\n             index=articles, \n             columns=[\"component_1\",\"component_2\" ])","kernel":"python3","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>component_1</th>\n      <th>component_2</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Football baseball basketball</th>\n      <td>1.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>baseball giants cubs redsox</th>\n      <td>1.0</td>\n      <td>-0.0</td>\n    </tr>\n    <tr>\n      <th>football broncos cowboys</th>\n      <td>1.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>baseball redsox tigers</th>\n      <td>1.0</td>\n      <td>-0.0</td>\n    </tr>\n    <tr>\n      <th>pop stars hendrix prince</th>\n      <td>-0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>hendrix prince jagger rock</th>\n      <td>-0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>joplin pearl jam tupac rock</th>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"                              component_1  component_2\nFootball baseball basketball          1.0          0.0\nbaseball giants cubs redsox           1.0         -0.0\nfootball broncos cowboys              1.0          0.0\nbaseball redsox tigers                1.0         -0.0\npop stars hendrix prince             -0.0          1.0\nhendrix prince jagger rock           -0.0          1.0\njoplin pearl jam tupac rock           0.0          1.0"},"exec_count":6}},"pos":11,"start":1621965303076,"state":"done","type":"cell"}
{"cell_type":"code","end":1621965304497,"exec_count":7,"id":"538bda","input":"n_topics = 2\nn_words = 5\n\nfeature_names = vectorizer.get_feature_names()                 # get all of the words\n\nfor topic_num in range(n_topics):        \n    topic_mat = svd.components_[topic_num]                     # get each row of the SVD truncated matrix\n\n    print(f'Topic {topic_num + 1}:'.center(80))\n\n    topic_values = sorted(zip(topic_mat, feature_names),       # Sort all of the items in that row \n                          reverse=True)[:n_words]              # in decending order and keep track of what word\n                                                               # that value is associated with. Then return the top\n                                                               # n_words.\n    print(' '.join([y for x,y in topic_values]))               # print the output\n    print('-'*80)","kernel":"python3","output":{"0":{"name":"stdout","text":"                                    Topic 1:                                    \nbaseball redsox tigers football basketball\n--------------------------------------------------------------------------------\n                                    Topic 2:                                    \nprince hendrix rock jagger stars\n--------------------------------------------------------------------------------\n"}},"pos":13,"start":1621965304487,"state":"done","type":"cell"}
{"cell_type":"code","end":1621965324172,"exec_count":8,"id":"7c7ece","input":"model = LogisticRegression(solver=\"lbfgs\")\n\npipeline = Pipeline(pipe + [('model', model)])","kernel":"python3","pos":15,"start":1621965324167,"state":"done","type":"cell"}
{"cell_type":"code","end":1621965326580,"exec_count":9,"id":"8b3e14","input":"pipeline.fit(articles, [1,1,1,1,0,0,0])","kernel":"python3","output":{"0":{"data":{"text/plain":"Pipeline(steps=[('tfidf',\n                 TfidfVectorizer(min_df=2, stop_words='english',\n                                 token_pattern='\\\\b[a-zA-Z][a-zA-Z]+\\\\b')),\n                ('lsa', TruncatedSVD()), ('normalizer', Normalizer()),\n                ('model', LogisticRegression())])"},"exec_count":9}},"pos":17,"start":1621965326486,"state":"done","type":"cell"}
{"cell_type":"code","end":1621965328760,"exec_count":10,"id":"043fe8","input":"new_sentence = 'babe ruth played baseball'\ny_pred_1 = pipeline.predict([new_sentence])\nprint(y_pred_1)","kernel":"python3","output":{"0":{"name":"stdout","text":"[1]\n"}},"pos":19,"start":1621965328752,"state":"done","type":"cell"}
{"cell_type":"code","end":1621965330823,"exec_count":11,"id":"f2a558","input":"new_sentence = 'rock and roll music'\ny_pred_1 = pipeline.predict([new_sentence])\nprint(y_pred_1)","kernel":"python3","output":{"0":{"name":"stdout","text":"[0]\n"}},"pos":21,"start":1621965330816,"state":"done","type":"cell"}
{"cell_type":"code","end":1621965334968,"exec_count":12,"id":"15f734","input":"new_sentence = 'rock and roll music'\ny_pred_1 = pipeline.predict_proba([new_sentence])\nprint(y_pred_1)","kernel":"python3","output":{"0":{"name":"stdout","text":"[[0.68091588 0.31908412]]\n"}},"pos":23,"start":1621965334963,"state":"done","type":"cell"}
{"cell_type":"code","end":1621965337579,"exec_count":13,"id":"3674ae","input":"pipe = [('tfidf', TfidfVectorizer(stop_words='english', \n                        token_pattern=\"\\\\b[a-zA-Z][a-zA-Z]+\\\\b\", \n                        min_df=1)),\n       ('lsa', TruncatedSVD(2))]\n\npipeline = Pipeline(pipe)\n\ndtm_svd = pipeline.fit_transform(articles)\n\ndf = pd.DataFrame(dtm_svd.round(10),\n             index=articles, \n             columns=[\"component_1\",\"component_2\" ])\ndf\n\ndef get_similar_sentences(compare_sentence, df, num_recom):\n    recs = []\n    for sentence in range(df.shape[0]):\n        if sentence != compare_sentence:\n            recs.append((np.dot(df.iloc[compare_sentence],df.iloc[sentence]), sentence))\n    recs.sort(reverse = True)\n    final_rec = [recs[i][1] for i in range(num_recom)]\n    return final_rec\n\nsentence = 0\nprint(f\"Sentences similar to user {sentence}: {get_similar_sentences(sentence,df,2)}\")\nsentence = 5\nprint(f\"Sentences similar to user {sentence}: {get_similar_sentences(sentence,df,2)}\")\n","kernel":"python3","output":{"0":{"name":"stdout","text":"Sentences similar to user 0: [3, 1]\nSentences similar to user 5: [4, 6]\n"}},"pos":25,"start":1621965337497,"state":"done","type":"cell"}
{"cell_type":"code","end":1621965355836,"exec_count":14,"id":"39914d","input":"sid = SentimentIntensityAnalyzer()\nprint(sid.polarity_scores(\"Oh my god I love football, it's so awesome.\"))","kernel":"python3","output":{"0":{"name":"stdout","text":"{'neg': 0.0, 'neu': 0.302, 'pos': 0.698, 'compound': 0.9107}\n"}},"pos":29,"start":1621965355819,"state":"done","type":"cell"}
{"cell_type":"code","end":1621965357859,"exec_count":15,"id":"72be25","input":"print(sid.polarity_scores(\"I hate swimming it makes me so tired.\"))","kernel":"python3","output":{"0":{"name":"stdout","text":"{'neg': 0.598, 'neu': 0.402, 'pos': 0.0, 'compound': -0.8147}\n"}},"pos":31,"start":1621965357850,"state":"done","type":"cell"}
{"cell_type":"code","exec_count":0,"id":"ec6d1f","input":"","pos":33,"type":"cell"}
{"cell_type":"markdown","id":"230bf6","input":"Run the cell below to import the required packages:","pos":0,"type":"cell"}
{"cell_type":"markdown","id":"29be17","input":"### Pipelines\n\nWe can create a pipeline that performs all of the above processes. Let's make the pipe:","pos":8,"type":"cell"}
{"cell_type":"markdown","id":"2e3b06","input":"Now we can put our article data through the pipe to generate the exact table that we made above. The code is a lot cleaner this way:","pos":10,"type":"cell"}
{"cell_type":"markdown","id":"38df7b","input":"Then we also wanted to scale our data using Normalizer. This ensures that each vector has a norm of 1. Vectors with a norm of 1 are easy to work with for calculating similarity. We see that each document is a linear combination of the components:","pos":6,"type":"cell"}
{"cell_type":"markdown","id":"426225","input":"Here's a highly negative sentence:","pos":30,"type":"cell"}
{"cell_type":"markdown","id":"55a57b","input":"### 4.Sentiment Analysis\n\nNatural language processing can handle sentiment analysis. Polarity is near +1 for highly positive sentiment and near -1 for highly negative sentiment. You can look to the compound polarity as a summary of the sentiment:","pos":27,"type":"cell"}
{"cell_type":"markdown","id":"5ee5db","input":"Recall our example yesterday. We first used the Tfidf Vectorizer to preprocess the data and turn the words into a matrix where uncommon words were granted more weight:","pos":2,"type":"cell"}
{"cell_type":"markdown","id":"61136c","input":"### Homework\n\nRead more about VADER sentiment analysis here:\n\nhttps://medium.com/analytics-vidhya/simplifying-social-media-sentiment-analysis-using-vader-in-python-f9e6ec6fc52f\n\nThen read the actual VADER docs here:\n\nhttp://www.nltk.org/howto/sentiment.html\n\nIn particular, read all of the \"tricky_sentences\" and then view their sentiment scores further down the page. Sentiment analysis is difficult!\n\nThe VADER package is not the only package that deals with sentiment analysis. Read about other tools and their pros and cons here:\n\nhttps://medium.com/@b.terryjack/nlp-pre-trained-sentiment-analysis-1eb52a9d742c\n\nAdd 2 posts to the #general channel on Slack.\n\n    1. Comment on what you learned/found interesting in these articles and docs\n    2. Propose a possible use of Natural Language Processing and/or sentiment analysis (a possible Final Project!?)\n    \n    ","pos":32,"type":"cell"}
{"cell_type":"markdown","id":"63245e","input":"Here's a highly positive sentence:","pos":28,"type":"cell"}
{"cell_type":"markdown","id":"6e33d8","input":"Then, we used an SVD to view the most important words making up each component:","pos":4,"type":"cell"}
{"cell_type":"markdown","id":"8df3e9","input":"It makes sense that Sentences 3 and 1 are most similar to Sentence 0, as they are all sports-related.\nIt also makes sense that Sentences 4 and 6 are most similar to Sentence 5, as they are all music-related.","pos":26,"type":"cell"}
{"cell_type":"markdown","id":"8eb985","input":"### 3.Article Suggestions\n\nWe can use a similar function to the one we used in our recommendation system unit to find articles most similar to a given article. Let's find the sentence most similar to Sentence 0 by calculating the dot product of the rows of the SVD matrix with the row corresponding to Sentence 0 and then sorting in descending order of the dot product value:","pos":24,"type":"cell"}
{"cell_type":"markdown","id":"9cfa28","input":"### 1.Topic Modeling\n\nWhen we chose two components to use in our SVD, we were essentially choosing to use two topics. We can view the five most important words associated with each topic below:","pos":12,"type":"cell"}
{"cell_type":"markdown","id":"a0cfe0","input":"Now, we can use our previous articles as our training data. (Remember that the first four articles were sports-related and the second three were music-related:","pos":16,"type":"cell"}
{"cell_type":"markdown","id":"bec95a","input":"Clearly, it makes sense that this new article was labeled as sports (1) instead of music (0). What about a new sentence about music?","pos":20,"type":"cell"}
{"cell_type":"markdown","id":"d2c44a","input":"This would get labeled as music. If we wanted to see the probabilities of this music-related document getting classified as music or sports, we could type:","pos":22,"type":"cell"}
{"cell_type":"markdown","id":"df300b","input":"### 2.Predictive Modeling\n\nHere we will train a model on our outcome (Sports 1 or Music 0) and then use the model to predict labels of new sentences. First, let's add a logistic regression classifier to the end of our pipe:","pos":14,"type":"cell"}
{"cell_type":"markdown","id":"f87db0","input":"Now, let's use our model to predict a new sentence:","pos":18,"type":"cell"}
{"end":1621965552412,"exec_count":21,"id":"145292","input":"print(sid.polarity_scores(\"I wanna kill myself\"))","kernel":"python3","output":{"0":{"name":"stdout","text":"{'neg': 0.701, 'neu': 0.299, 'pos': 0.0, 'compound': -0.6908}\n"}},"pos":31.5,"start":1621965552405,"state":"done","type":"cell"}
{"id":0,"time":1621964530145,"type":"user"}
{"last_load":1621964528904,"type":"file"}